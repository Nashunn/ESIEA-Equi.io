<nb-card>
  <nb-card-body>
    <h4 class="my-3">Créer une leçon</h4>
    <form [formGroup]="form" (ngSubmit)="submit()">
      <!-- Name -->
      <input
        type="text"
        class="input-margin"
        formControlName="name"
        [ngClass]="{ 'is-invalid': submitted && f.name.errors }"
        name="name" id="name" placeholder="Nom"
        nbInput fullWidth
      />
      <!-- Date -->
      <div *ngIf="submitted && f.date.errors" class="invalid-feedback">
        <div *ngIf="f.date.errors.required">Date obligatoire</div>
      </div>
      <input
        class="input-margin"
        placeholder="Date"
        formControlName="date"
        [ngClass]="{ 'is-invalid': submitted && f.date.errors }"
        [nbDatepicker]="dateTimePicker"
        name="date" id="date"
        nbInput fullWidth
      />
      <nb-datepicker #dateTimePicker></nb-datepicker>
      <!-- Number of riders -->
      <div *ngIf="submitted && f.numRiders.errors" class="invalid-feedback">
        <div *ngIf="f.numRiders.errors.required">Nombre maximum de cavaliers obligatoire</div>
      </div>
      <input
        type="number"
        min="0"
        class="input-margin"
        formControlName="numRiders"
        [ngClass]="{ 'is-invalid': submitted && f.numRiders.errors }"
        name="numRiders" id="numRiders" placeholder="Nombre maximum de cavaliers"
        nbInput fullWidth
      />
      <!-- Level -->
      <div *ngIf="submitted && f.level.errors" class="invalid-feedback">
        <div *ngIf="f.level.errors.required">Niveau obligatoire</div>
      </div>
      <nb-select
        class="input-margin"
        placeholder="Niveau"
        formControlName="level"
        [ngClass]="{ 'is-invalid': submitted && f.name.errors }"
        name="level" id="level"
        fullWidth
      >
        <nb-option *ngFor="let level of [1,2,3,4,5,6,7]" [value]="level">
          Galop {{ level }}
        </nb-option>
      </nb-select>
    </form>

    <button nbButton fullWidth status="primary" size="medium">Créer</button>
    <div *ngIf="error" class="invalid-feedback mt-3 mb-0">{{error}}</div>
  </nb-card-body>
</nb-card>
